(function(){$(function(){function i(){location.reload(!0)}var r=abp.services.app.reference,n=$("#CreateOrEditModal"),u=n.find("form"),t=$("#Type").val();u.validate();$("#RefreshButton").click(function(){i()});$(".delete-item").click(function(){var n=$(this).attr("data-item-id"),u=$(this).attr("data-item-name");abp.message.confirm(abp.utils.formatString(abp.localization.localize("AreYouSureWantToDelete","InstaPoisk"),u),function(u){u&&r.delete(n,t).done(function(){i()})})});$(".edit-item").click(function(n){var i=$(this).attr("data-item-id");n.preventDefault();$.ajax({url:abp.appPath+"Admin/Reference/CreateOrEditCategory?type="+t+"&id="+i,type:"POST",contentType:"application/html",success:function(n){$("#CreateOrEditModal div.modal-content").html(n)},error:function(){}})});$(".create-item").click(function(n){n.preventDefault();$.ajax({url:abp.appPath+"Admin/Reference/CreateOrEditCategory?type="+t,type:"POST",contentType:"application/html",success:function(n){$("#CreateOrEditModal div.modal-content").html(n)},error:function(){}})});n.on("shown.bs.modal",function(){n.find("input:not([type=hidden]):first").focus()})})})();